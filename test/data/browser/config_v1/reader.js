function Readability(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");t=t||{},this._doc=e,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._attempts=[],this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._onlyCheck=!!t.onlyCheck,this._startTime=(new Date).getTime(),this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY;var a;this._debug?(a=function(e){var t=e.nodeName+" ";if(e.nodeType==e.TEXT_NODE)return t+'("'+e.textContent+'")';var a=e.className&&"."+e.className.replace(/ /g,"."),i="";return e.id?i="(#"+e.id+a+")":a&&(i="("+a+")"),t+i},this.log=function(){if("undefined"!=typeof dump){var e=Array.prototype.map.call(arguments,function(e){return e&&e.nodeName?a(e):e}).join(" ");dump("Reader: (Readability) "+e+"\n")}else if("undefined"!=typeof console){var t=["Reader: (Readability) "].concat(arguments);console.log.apply(console,t)}}):this.log=function(){}}Readability.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|foot|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?(dailymotion|youtube|youtube-nocookie|player\.vimeo)\.com/i,nextLink:/(next|weiter|continue|>([^\|]|$)|\u7984([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|\u82a6)/i,whitespace:/^\s*$/,hasContent:/\S$/},DIV_TO_P_ELEMS:["A","BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL","SELECT"],ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],_a3CheckTimeout:function(){if(this._onlyCheck){var e=(new Date).getTime()-this._startTime;if(e>600)throw console.log("$a3reader_cmd: _a3CheckTimeout timeout delay="+e),new Error("a3Check onTimeout; delay > 600!!!")}},_postProcessContent:function(e){this._fixRelativeUris(e),this._cleanClasses(e)},_removeNodes:function(e,t){for(var a=e.length-1;a>=0;a--){var i=e[a],n=i.parentNode;n&&(t&&!t.call(this,i,a,e)||n.removeChild(i))}},_replaceNodeTags:function(e,t){for(var a=e.length-1;a>=0;a--){var i=e[a];this._setNodeTag(i,t)}},_forEachNode:function(e,t){Array.prototype.forEach.call(e,t,this)},_someNode:function(e,t){return Array.prototype.some.call(e,t,this)},_everyNode:function(e,t){return Array.prototype.every.call(e,t,this)},_concatNodeLists:function(){var e=Array.prototype.slice,t=e.call(arguments),a=t.map(function(t){return e.call(t)});return Array.prototype.concat.apply([],a)},_getAllNodesWithTag:function(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(t){var a=e.getElementsByTagName(t);return Array.isArray(a)?a:Array.from(a)}))},_cleanClasses:function(e){var t=this._classesToPreserve,a=(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return-1!=t.indexOf(e)}).join(" ");for(a?e.setAttribute("class",a):e.removeAttribute("class"),e.removeAttribute("id"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_fixRelativeUris:function(e){function t(e){if(a==i&&"#"==e.charAt(0))return e;try{return new URL(e,a).href}catch(t){}return e}var a=this._doc.baseURI,i=this._doc.documentURI,n=e.getElementsByTagName("a");this._forEachNode(n,function(e){var a=e.getAttribute("href");if(a)if(0===a.indexOf("javascript:")){var i=this._doc.createTextNode(e.textContent);e.parentNode.replaceChild(i,e)}else e.setAttribute("href",t(a))});var r=e.getElementsByTagName("img");this._forEachNode(r,function(e){var a=e.getAttribute("src");a&&e.setAttribute("src",t(a))})},_getArticleTitle:function(){function e(e){return e.split(/\s+/).length}var t=this._doc,a="",i="";try{a=i=t.title.trim(),"string"!=typeof a&&(a=i=this._getInnerText(t.getElementsByTagName("title")[0]))}catch(d){}var n=!1;if(/ [\|\-\\\/>\u7984] /.test(a))n=/ [\\\/>\u7984] /.test(a),a=i.replace(/(.*)[\|\-\\\/>\u7984] .*/gi,"$1"),e(a)<3&&(a=i.replace(/[^\|\-\\\/>\u7984]*[\|\-\\\/>\u7984](.*)/gi,"$1"));else if(-1!==a.indexOf(": ")){var r=this._concatNodeLists(t.getElementsByTagName("h1"),t.getElementsByTagName("h2")),o=a.trim(),l=this._someNode(r,function(e){return e.textContent.trim()===o});l||(a=i.substring(i.lastIndexOf(":")+1),e(a)<3?a=i.substring(i.indexOf(":")+1):e(i.substr(0,i.indexOf(":")))>5&&(a=i))}else if(a.length>150||a.length<15){var s=t.getElementsByTagName("h1");1===s.length&&(a=this._getInnerText(s[0]))}a=a.trim();var _=e(a);return _<=4&&(!n||_!=e(i.replace(/[\|\-\\\/>\u7984]+/g,""))-1)&&(a=i),a},_prepDocument:function(){var e=this._doc;this._removeNodes(e.getElementsByTagName("style")),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(e.getElementsByTagName("font"),"SPAN")},_nextElement:function(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs:function(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){for(var t=e.nextSibling,a=!1;(t=this._nextElement(t))&&"BR"==t.tagName;){a=!0;var i=t.nextSibling;t.parentNode.removeChild(t),t=i}if(a){var n=this._doc.createElement("p");for(e.parentNode.replaceChild(n,e),t=n.nextSibling;t;){if("BR"==t.tagName){var r=this._nextElement(t.nextSibling);if(r&&"BR"==r.tagName)break}if(!this._isPhrasingContent(t))break;var o=t.nextSibling;n.appendChild(t),t=o}for(;n.lastChild&&this._isWhitespace(n.lastChild);)n.removeChild(n.lastChild);"P"===n.parentNode.tagName&&this._setNodeTag(n.parentNode,"DIV")}})},_setNodeTag:function(e,t){if(this.log("_setNodeTag",e,t),e.__JSDOMParser__)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var a=e.ownerDocument.createElement(t);e.firstChild;)a.appendChild(e.firstChild);e.parentNode.replaceChild(a,e),e.readability&&(a.readability=e.readability);for(var i=0;i<e.attributes.length;i++)a.setAttribute(e.attributes[i].name,e.attributes[i].value);return a},_prepArticle:function(e){this._cleanStyles(e),this._markDataTables(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"h1"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside"),this._forEachNode(e.children,function(e){this._cleanMatchedNodes(e,/share/)});var t=e.getElementsByTagName("h2");if(1===t.length){var a=(t[0].textContent.length-this._articleTitle.length)/this._articleTitle.length;if(Math.abs(a)<.5){var i=!1;i=a>0?t[0].textContent.includes(this._articleTitle):this._articleTitle.includes(t[0].textContent),i&&this._clean(e,"h2")}}this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._removeNodes(e.getElementsByTagName("p"),function(e){return 0===e.getElementsByTagName("img").length+e.getElementsByTagName("embed").length+e.getElementsByTagName("object").length+e.getElementsByTagName("iframe").length&&!this._getInnerText(e,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(e){var t=this._nextElement(e.nextSibling);t&&"P"==t.tagName&&e.parentNode.removeChild(e)}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(e){var t=this._hasSingleTagInsideElement(e,"TBODY")?e.firstElementChild:e;if(this._hasSingleTagInsideElement(t,"TR")){var a=t.firstElementChild;if(this._hasSingleTagInsideElement(a,"TD")){var i=a.firstElementChild;i=this._setNodeTag(i,this._everyNode(i.childNodes,this._isPhrasingContent)?"P":"DIV"),e.parentNode.replaceChild(i,e)}}})},_initializeNode:function(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext:function(e){var t=this._getNextNode(e,!0);return e.parentNode.removeChild(e),t},_getNextNode:function(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do{e=e.parentNode}while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_checkByline:function(e,t){if(this._articleByline)return!1;if(e.getAttribute!==undefined)var a=e.getAttribute("rel");return!("author"!==a&&!this.REGEXPS.byline.test(t)||!this._isValidByline(e.textContent))&&(this._articleByline=e.textContent.trim(),!0)},_getNodeAncestors:function(e,t){t=t||0;for(var a=0,i=[];e.parentNode&&(i.push(e.parentNode),!t||++a!==t);)e=e.parentNode;return i},_grabArticle:function(e){this.log("**** grabArticle ****");var t=this._doc,a=null!==e;if(!(e=e||this._doc.body))return this.log("No body found in document. Abort."),null;for(e.innerHTML;;){for(var i=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),n=[],r=this._doc.documentElement;r;){var o=r.className+" "+r.id;if(this._isProbablyVisible(r))if(this._checkByline(r,o))r=this._removeAndGetNext(r);else if(i&&this.REGEXPS.unlikelyCandidates.test(o)&&!this.REGEXPS.okMaybeItsACandidate.test(o)&&"BODY"!==r.tagName&&"A"!==r.tagName)this.log("Removing unlikely candidate - "+o),r=this._removeAndGetNext(r);else if("DIV"!==r.tagName&&"SECTION"!==r.tagName&&"HEADER"!==r.tagName&&"H1"!==r.tagName&&"H2"!==r.tagName&&"H3"!==r.tagName&&"H4"!==r.tagName&&"H5"!==r.tagName&&"H6"!==r.tagName||!this._isElementWithoutContent(r)){if(-1!==this.DEFAULT_TAGS_TO_SCORE.indexOf(r.tagName)&&n.push(r),"DIV"===r.tagName){for(var l=null,s=r.firstChild;s;){var _=s.nextSibling;if(this._isPhrasingContent(s))null!==l?l.appendChild(s):this._isWhitespace(s)||(l=t.createElement("p"),r.replaceChild(l,s),l.appendChild(s));else if(null!==l){for(;l.lastChild&&this._isWhitespace(l.lastChild);)l.removeChild(l.lastChild);l=null}s=_}if(this._hasSingleTagInsideElement(r,"P")&&this._getLinkDensity(r)<.25){var d=r.children[0];r.parentNode.replaceChild(d,r),r=d,n.push(r)}else this._hasChildBlockElement(r)||(r=this._setNodeTag(r,"P"),n.push(r))}r=this._getNextNode(r)}else r=this._removeAndGetNext(r);else this.log("Removing hidden node - "+o),r=this._removeAndGetNext(r)}this._a3CheckTimeout();var c=[];this._forEachNode(n,function(e){if(e.parentNode&&"undefined"!=typeof e.parentNode.tagName){var t=this._getInnerText(e);if(!(t.length<25)){var a=this._getNodeAncestors(e,3);if(0!==a.length){var i=0;i+=1,i+=t.split(",").length,i+=Math.min(Math.floor(t.length/100),3),this._forEachNode(a,function(e,t){if(e.tagName&&e.parentNode&&"undefined"!=typeof e.parentNode.tagName){if("undefined"==typeof e.readability&&(this._initializeNode(e),c.push(e)),0===t)var a=1;else a=1===t?2:3*t;e.readability.contentScore+=i/a}})}}}}),this._a3CheckTimeout();for(var h=[],g=0,m=c.length;g<m;g+=1){var u=c[g],p=u.readability.contentScore*(1-this._getLinkDensity(u));u.readability.contentScore=p,this.log("Candidate:",u,"with score "+p);for(var f=0;f<this._nbTopCandidates;f++){var b=h[f];if(!b||p>b.readability.contentScore){h.splice(f,0,u),h.length>this._nbTopCandidates&&h.pop();break}}}var y,E=h[0]||null,v=!1;if(null===E||"BODY"===E.tagName){E=t.createElement("DIV"),v=!0;for(var N=e.childNodes;N.length;)this.log("Moving child out:",N[0]),E.appendChild(N[0]);e.appendChild(E),this._initializeNode(E)}else if(E){for(var T=[],w=1;w<h.length;w++)h[w].readability.contentScore/E.readability.contentScore>=.75&&T.push(this._getNodeAncestors(h[w]));if(T.length>=3)for(y=E.parentNode;"BODY"!==y.tagName;){for(var A=0,C=0;C<T.length&&A<3;C++)A+=Number(T[C].includes(y));if(A>=3){E=y;break}y=y.parentNode}E.readability||this._initializeNode(E),y=E.parentNode;for(var S=E.readability.contentScore,x=S/3;"BODY"!==y.tagName;)if(y.readability){var L=y.readability.contentScore;if(L<x)break;if(L>S){E=y;break}S=y.readability.contentScore,y=y.parentNode}else y=y.parentNode;for(y=E.parentNode;"BODY"!=y.tagName&&1==y.children.length;)E=y,y=E.parentNode;E.readability||this._initializeNode(E)}var D=t.createElement("DIV");a&&(D.id="readability-content");var I=Math.max(10,.2*E.readability.contentScore);y=E.parentNode;for(var R=y.children,B=0,P=R.length;B<P;B++){var O=R[B],k=!1;if(this.log("Looking at sibling node:",O,O.readability?"with score "+O.readability.contentScore:""),this.log("Sibling has score",O.readability?O.readability.contentScore:"Unknown"),O===E)k=!0;else{var M=0;if(O.className===E.className&&""!==E.className&&(M+=.2*E.readability.contentScore),O.readability&&O.readability.contentScore+M>=I)k=!0;else if("P"===O.nodeName){var H=this._getLinkDensity(O),G=this._getInnerText(O),U=G.length;U>80&&H<.25?k=!0:U<80&&U>0&&0===H&&-1!==G.search(/\.( |$)/)&&(k=!0)}}k&&(this.log("Appending node:",O),-1===this.ALTER_TO_DIV_EXCEPTIONS.indexOf(O.nodeName)&&(this.log("Altering sibling:",O,"to div."),O=this._setNodeTag(O,"DIV")),D.appendChild(O),B-=1,P-=1)}if(this._debug&&this.log("Article content pre-prep: "+D.innerHTML),this._prepArticle(D),this._debug&&this.log("Article content post-prep: "+D.innerHTML),v)E.id="readability-page-1",E.className="_a3_class_page";else{var X=t.createElement("DIV");X.id="readability-page-1",X.className="_a3_class_page";for(var V=D.childNodes;V.length;)X.appendChild(V[0]);D.appendChild(X)}this._debug&&this.log("Article content after paging: "+D.innerHTML);return D}},_isValidByline:function(e){return("string"==typeof e||e instanceof String)&&(e=e.trim(),e.length>0&&e.length<100)},_getArticleMetadata:function(){var e={},t={},a=this._doc.getElementsByTagName("meta"),i=/^\s*((twitter)\s*:\s*)?(description|title)\s*$/gi,n=/^\s*og\s*:\s*(description|title)\s*$/gi;return this._forEachNode(a,function(a){var r=a.getAttribute("name"),o=a.getAttribute("property");if(-1!==[r,o].indexOf("author"))return void(e.byline=a.getAttribute("content"));var l=null;if(i.test(r)?l=r:n.test(o)&&(l=o),l){var s=a.getAttribute("content");s&&(l=l.toLowerCase().replace(/\s/g,""),t[l]=s.trim())}}),e.title=this._getArticleTitle(),e.title||("og:title"in t?e.title=t["og:title"]:"twitter:title"in t&&(e.title=t["twitter:title"])),e},_removeScripts:function(e){this._removeNodes(e.getElementsByTagName("script"),function(e){return e.nodeValue="",e.removeAttribute("src"),!0}),this._removeNodes(e.getElementsByTagName("noscript"))},_hasSingleTagInsideElement:function(e,t){return 1==e.children.length&&e.children[0].tagName===t&&!this._someNode(e.childNodes,function(e){return e.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(e.textContent)})},_isElementWithoutContent:function(e){return e.nodeType===this.ELEMENT_NODE&&0==e.textContent.trim().length&&(0==e.children.length||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement:function(e){return this._someNode(e.childNodes,function(e){return-1!==this.DIV_TO_P_ELEMS.indexOf(e.tagName)||this._hasChildBlockElement(e)})},_isPhrasingContent:function(e){return e.nodeType===this.TEXT_NODE||-1!==this.PHRASING_ELEMS.indexOf(e.tagName)||("A"===e.tagName||"DEL"===e.tagName||"INS"===e.tagName)&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace:function(e){return e.nodeType===this.TEXT_NODE&&0===e.textContent.trim().length||e.nodeType===this.ELEMENT_NODE&&"BR"===e.tagName},_getInnerText:function(e,t){t=void 0===t||t;var a=e.textContent;return a.lenth<1024&&(a=a.trim()),t?a.replace(this.REGEXPS.normalize," "):a},_getCharCount:function(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles:function(e){if(e&&"svg"!==e.tagName.toLowerCase()){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);-1!==this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var a=e.firstElementChild;null!==a;)this._cleanStyles(a),a=a.nextElementSibling}},_getLinkDensity:function(e){var t=this._getInnerText(e).length;if(0===t)return 0;var a=0;return this._forEachNode(e.getElementsByTagName("a"),function(e){a+=this._getInnerText(e).length}),a/t},_getClassWeight:function(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return"string"==typeof e.className&&""!==e.className&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),"string"==typeof e.id&&""!==e.id&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean:function(e,t){var a=-1!==["object","embed","iframe"].indexOf(t);this._removeNodes(e.getElementsByTagName(t),function(e){if(a){var t=[].map.call(e.attributes,function(e){return e.value}).join("|");if(this.REGEXPS.videos.test(t))return!1;if(this.REGEXPS.videos.test(e.innerHTML))return!1}return!0})},_hasAncestorTag:function(e,t,a,i){a=a||3,t=t.toUpperCase();for(var n=0;e.parentNode;){if(a>0&&n>a)return!1;if(e.parentNode.tagName===t&&(!i||i(e.parentNode)))return!0;e=e.parentNode,n++}return!1},_getRowAndColumnCount:function(e){for(var t=0,a=0,i=e.getElementsByTagName("tr"),n=0;n<i.length;n++){var r=i[n].getAttribute("rowspan")||0;r&&(r=parseInt(r,10)),t+=r||1;for(var o=0,l=i[n].getElementsByTagName("td"),s=0;s<l.length;s++){var _=l[s].getAttribute("colspan")||0;_&&(_=parseInt(_,10)),o+=_||1}a=Math.max(a,o)}return{rows:t,columns:a}},_markDataTables:function(e){for(var t=e.getElementsByTagName("table"),a=0;a<t.length;a++){var i=t[a];if("presentation"!=i.getAttribute("role")){if("0"!=i.getAttribute("datatable")){if(i.getAttribute("summary"))i._readabilityDataTable=!0;else{var n=i.getElementsByTagName("caption")[0];if(n&&n.childNodes.length>0)i._readabilityDataTable=!0;else{var r=["col","colgroup","tfoot","thead","th"],o=function(e){return!!i.getElementsByTagName(e)[0]};if(r.some(o))this.log("Data table because found data-y descendant"),i._readabilityDataTable=!0;else if(i.getElementsByTagName("table")[0])i._readabilityDataTable=!1;else{var l=this._getRowAndColumnCount(i);l.rows>=10||l.columns>4?i._readabilityDataTable=!0:i._readabilityDataTable=l.rows*l.columns>10}}}}else i._readabilityDataTable=!1}else i._readabilityDataTable=!1}},_cleanConditionally:function(e,t){if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)){var a="ul"===t||"ol"===t;this._removeNodes(e.getElementsByTagName(t),function(e){var t=function(e){return e._readabilityDataTable};if(this._hasAncestorTag(e,"table",-1,t))return!1;var i=this._getClassWeight(e);if(this.log("Cleaning Conditionally",e),i+0<0)return!0;if(this._getCharCount(e,",")<10){for(var n=e.getElementsByTagName("p").length,r=e.getElementsByTagName("img").length,o=e.getElementsByTagName("li").length-100,l=e.getElementsByTagName("input").length,s=0,_=e.getElementsByTagName("embed"),d=0,c=_.length;d<c;d+=1)this.REGEXPS.videos.test(_[d].src)||(s+=1);var h=this._getLinkDensity(e),g=this._getInnerText(e).length;return r>1&&n/r<.5&&!this._hasAncestorTag(e,"figure")||!a&&o>n||l>Math.floor(n/3)||!a&&g<25&&(0===r||r>2)&&!this._hasAncestorTag(e,"figure")||!a&&i<25&&h>.2||i>=25&&h>.5||1===s&&g<75||s>1}return!1})}},_cleanMatchedNodes:function(e,t){for(var a=this._getNextNode(e,!0),i=this._getNextNode(e);i&&i!=a;)i=t.test(i.className+" "+i.id)?this._removeAndGetNext(i):this._getNextNode(i)},_cleanHeaders:function(e){for(var t=1;t<3;t+=1)this._removeNodes(e.getElementsByTagName("h"+t),function(e){return this._getClassWeight(e)<0})},_flagIsActive:function(e){return(this._flags&e)>0},_removeFlag:function(e){this._flags=this._flags&~e},_isProbablyVisible:function(e){return"none"!=e.style.display&&!e.hasAttribute("hidden")},isProbablyReaderable:function(e){var t=this._getAllNodesWithTag(this._doc,["p","pre"]),a=this._getAllNodesWithTag(this._doc,["div > br"]);if(a.length){var i=new Set;[].forEach.call(a,function(e){i.add(e.parentNode)}),t=[].concat.apply(Array.from(i),t)}e||(e=this._isProbablyVisible);var n=0;return this._someNode(t,function(t){if(e&&!e(t))return!1;var a=t.className+" "+t.id;if(this.REGEXPS.unlikelyCandidates.test(a)&&!this.REGEXPS.okMaybeItsACandidate.test(a))return!1;if(t.matches&&t.matches("li p"))return!1;var i=t.textContent.trim().length;return!(i<140)&&(n+=Math.sqrt(i-140))>20})},parse:function(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._removeScripts(this._doc),this._prepDocument();var t=this._getArticleMetadata();this._articleTitle=t.title;var a=this._grabArticle();if(!a)return null;this.log("Grabbed: "+a.innerHTML),this._postProcessContent(a);var i=a.textContent;return{title:this._articleTitle,byline:t.byline||this._articleByline,dir:this._articleDir,content:a.innerHTML,textContent:i,length:i.length,excerpt:t.excerpt}}},"object"==typeof module&&(module.exports=Readability),function(e){"use strict";function t(){var e;window._a3_reader_supported?(e="A3Msg_Host_Supported",window._a3_reader_state_showed&&(e+=",A3Msg_Host_OnShow"),A3Message.send(e)):A3Message.send("A3Msg_Host_NotSupported:"+window._a3_reader_error_msg)}function a(e,a){window._a3_reader_supported=e,window._a3_reader_state_showed=a,t()}function i(){try{h.forEach(function(e,t){e()})}catch(e){}}function n(){try{g.forEach(function(e,t){e()})}catch(e){}}function r(e,t){do{var a=t.indexOf(".");if(a<0)break;if(e.has(t))return!0;t=t.substr(a+1)}while(t.length>0);return!1}function o(){if(null==m){m=!1;for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++){"viewport"==e[t].name.toLowerCase().trim()&&(m=!0)}}return m}function l(e){return u||(u=new Set(["360.cn","so.com"])),r(u,e)}function s(e){return!!window._a3_reader_auto_enter||(p||(p=new Set(["ddd_791aa.com"])),r(p,e))}function _(e,t){var a=e.baseURI;if(a==e.documentURI&&"#"==t.charAt(0))return t;try{return new URL(t,a).href}catch(i){}return t}function d(e){for(var t=/Next Page|\u4e0b\u4e00\u7ae0|\u4e0b\u4e00\u9875|Next Section/i,a=e.getElementsByTagName("A"),i=null,n=0;n<a.length;n++){var r=a[n],o=r.textContent.trim();if(o.length<16&&t.test(o)){var l=r.getAttribute("href");if(l&&l.indexOf("javascript:")<0&&(i=_(e,l)))break}}return i}if(window==parent){if(window._a3_reader_inited)return void t();window._a3_reader_inited=!0,window._a3_reader_supported=!1,window._a3_reader_state_showed=!1,window._a3_reader_state_anima=!1,window._a3_reader_error_msg="unknown",window._a3_reader_browser_version="$BROWSER_VERSION",window._a3_reader_auto_enter=!!window.a3_reader_auto_enter,window._a3_reader_preload=!!window.a3_reader_preload,window._a3_reader_bg_color=undefined,window._a3_reader_fg_color=undefined;var c=navigator.userAgent.indexOf("Android")>-1,h=[],g=[];window.A3ReaderAddListener=function(e,t){e&&h.push(e),t&&g.push(t)};var m=null,u=null,p=null,f=function(){var e={};return{send:function(e,t,a){console.log("$a3reader_cmd:"+e)},on:function(t,a){e[t]||(e[t]=[]),e[t].push(a)},onMessage:function(t,a,i){if(t&&e[t]){var n=!1;return e[t].forEach(function(e,t){n=e(a,i)||n}),n}}}}(),b=function(){if(!document.getElementById("_a3_id_reader_style")){var e=document.createElement("link");e.id="_a3_id_reader_style",e.rel="stylesheet",e.href='data:text/css,._a3_class_html_paper #_a3_id_article{background-color:#f8f1e3;color:#4f321c}._a3_class_html_paper #_a3_id_article ._a3_class_page{border-top-color:#e6dac9}._a3_class_html_paper #_a3_id_article ._a3_class_page_number{margin-top:18px;top:14px;right:0;font-weight:bold;text-align:right;font:12px "Helvetica Neue";cursor:default;margin-bottom:1.4em;display:none}._a3_class_html_paper #_a3_id_article hr{background:#e6dac9}._a3_class_html_paper ._a3_class_page table td,._a3_class_html_paper ._a3_class_page table th{border-color:#e6daca}._a3_class_html_paper ._a3_class_page table th{background-color:rgba(154,128,92,0.06)}#_a3_id_article{padding:0 18px 12px;margin:0;font-size:16px;line-height:1.75em;pointer-events:auto;overflow:visible;min-height:100%;overflow:hidden}#_a3_id_article ._a3_class_page:first-child{margin-top:0;border-top:0}#_a3_id_article ._a3_class_page{margin-left:0;margin-right:0;padding-bottom:35px;padding-left:2px;padding-right:2px;position:relative;border-top:1px solid rgba(0,0,0,0.3);text-align:justify;word-wrap:break-word;line-height:1.75em}#_a3_id_article #readability-page-1{margin:24px 0 0}#_a3_id_article article,#_a3_id_article aside,#_a3_id_article button,#_a3_id_article div,#_a3_id_article h1,#_a3_id_article h2,#_a3_id_article h3,#_a3_id_article h4,#_a3_id_article h5,#_a3_id_article h6,#_a3_id_article header,#_a3_id_article i,#_a3_id_article img,#_a3_id_article input,#_a3_id_article li,#_a3_id_article nav,#_a3_id_article ol,#_a3_id_article p,#_a3_id_article section,#_a3_id_article span,#_a3_id_article ul,#_a3_id_article table,#_a3_id_article article{margin:0;padding:0;font-size:17px;text-align:justify;line-height:1.75em;font-family:"Helvetica Neue","PingFang SC","Hiragino Sans GB","Microsoft YaHei UI","Microsoft YaHei",Arial,sans-serif}#_a3_id_article h1{font-size:22px;line-height:1.5em;text-align:left;-webkit-hyphens:manual;margin-top:1.2em}#_a3_id_article div._a3_class_byline{font-size:16px;margin:24px 0 0}#_a3_id_article pre{font-size:.93em;line-height:1.5em}#_a3_id_article p{padding-bottom:.72em}._a3_class_page table{font-size:.9em;word-wrap:break-word;border-collapse:collapse}#_a3_id_article p{text-justify:inter-ideograph;word-break:initial}._a3_class_page.rtl{direction:rtl}#_a3_id_article a{color:#416ed2;text-decoration:none}#_a3_id_article *{max-width:100%}#_a3_id_article img{margin:.5em auto;display:block;height:auto}#_a3_id_article .float.left{float:left;margin-right:20px}#_a3_id_article .float.right{float:right;margin-left:20px}#_a3_id_article .clear{clear:both}#_a3_id_article ul.list-style-type-none,#_a3_id_article ol.list-style-type-none,#_a3_id_article .list-style-type-none>li{list-style-type:none;-webkit-padding-start:0}#_a3_id_article ._a3_class_page div.scrollable{overflow-x:scroll;word-wrap:normal}#_a3_id_article ._a3_class_page div.scrollable table{max-width:none}#_a3_id_article .large-element{max-width:100%;height:auto}#_a3_id_article figure{margin:0;color:rgba(79,50,28,0.9)}#_a3_id_article hr{background:rgba(0,0,0,0.2);height:1px;border:0}#_a3_id_article blockquote{margin-left:2px;margin-right:6px;padding-left:16px}#_a3_id_article blockquote:not(.simple){border-left:3px solid rgba(0,0,0,0.1)}._a3_class_page p>p:empty,._a3_class_page div>p:empty,._a3_class_page p>div:empty,._a3_class_page div>div:empty,._a3_class_page p+br,._a3_class_page p>br:only-child,._a3_class_page div>br:only-child,._a3_class_page img+br{display:none}._a3_class_page table td,._a3_class_page table th{padding:.25em .5em;border:1px solid #d8d8d8}._a3_class_page table th{background-color:rgba(0,0,0,0.025)}._a3_class_page sup,._a3_class_page sub{line-height:1.1em;font-size:.8em}#_a3_id_article .hidden{display:none}#_a3_id_article:focus{outline:0}._a3_class_show_pn ._a3_class_page_number{display:block}._a3_class_page:last-of-type{padding-bottom:45px}#_a3_id_article ._a3_class_page video{position:relative}#_a3_id_article #_a3_id_incoming_page_placeholder{display:none;margin-bottom:32px}#_a3_id_article #_a3_id_anima_loading{left:48%;bottom:0;margin:0;vertical-align:bottom;position:absolute;border-radius:100%;border:.125em solid #4f321c;border-bottom-color:transparent;width:17px;height:17px;animation:_a3_css_anima_rotate .75s 0s linear infinite}@keyframes _a3_css_anima_rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}#_a3_id_article :nth-child(1 of ._a3_class_page),._a3_class_html_paper #_a3_id_article :nth-child(1 of ._a3_class_page):nth-last-child(1 of ._a3_class_page){padding-top:46px}';var t=document.getElementsByTagName("head");t.length>0&&t[0].appendChild(e)}};e.A3InjectReaderCss=b,e.A3Message||(window.A3RunInPage=!0,e.A3Message=f,e.A3OnMessage=f.onMessage);var y=function(){var e=null,t=null,a=!1,i=function(i,n){t=i,a=n,e=i?{title:i.title,byline:i.byline,article:i.content,url:window.location.href,pageNumber:1,nextPage:i.a3NextPage,rtl:!1,length:i.length}:null};return{check:function(e,a,n){if(t&&!a)return!0;if(l(e.domain))return!1;var r=e==document;r&&(e=e.cloneNode(!0));var _=null,c=430;o()||s(e.domain)||(c=390);try{_=new Readability(e,{onlyCheck:!n,charThreshold:c,maxElemsToParse:5e3}).parse()}catch(h){h instanceof Error&&(window._a3_reader_error_msg=h.message),window._a3_reader_error_msg="unknown"}return!(!_||_.length<c||(r||(_.a3NextPage=d(e)),i(_,r),0))},getData:function(){return a&&(e.nextPage=d(document)),e},getLength:function(){return null!=e?e.length:0}}}(),E=function(){var e,t,a,i,n,r=!1,o=0,l=[],s="",_=function(){var e=document.createElement("div");return e.id="_a3_id_reader_panel",e.style.position="absolute",e.style.width="100%",e.style.top=0,e.style.left=0,e.style.zIndex="2147483647",e.style.display="block",e.style.padding=0,e.style.border="none",e.style.margin=0,e.style.opacity="0",e.innerHTML='<div id="_a3_id_article"><div class="_a3_class_page" id="_a3_id_incoming_page_placeholder"><div id="_a3_id_anima_loading"></div></div></div>',e},d=function(e){var t=document.createElement("div");return t.className="_a3_class_page",t.innerHTML='<div class="_a3_class_page_number">\u7b2c'+e+"\u9875</div>",t},h=function(e,t){return e.className.match(RegExp("(\\s|^)"+t+"(\\s|$)"))},g=function(e,t){h(e,t)||(e.className+=" "+t)},m=function(e,t){if(h(e,t)){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")}},u=function(e){e._a3_old_dispaly=getComputedStyle(e,null).display,e.style.display="none"},p=function(e){var t;t=e._a3_old_dispaly&&"none"!=e._a3_old_dispaly?e._a3_old_dispaly:"block",e.style.display=t},f=function(e){for(var t=document.getElementsByTagName("meta"),a=!1,i="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no",n=0;n<t.length;n++){var r=t[n];"viewport"==r.name.toLowerCase().trim()&&(a=!0,e?(r._a3_old_content=r.content,r.content=i):r._a3_old_content&&(r.content=r._a3_old_content))}if(e&&!a){var r=document.createElement("meta");r.id="a3_id_meta_viewport",r.name="viewport",r.content=i;var o=document.getElementsByTagName("head")[0];o&&o.appendChild(r)}else if(!e){var r=document.getElementById("a3_id_meta_viewport");r&&r.parentNode.removeChild(r)}},b=function(){t=document.getElementsByTagName("html")[0],a=document.getElementsByTagName("body")[0],i=c?a:t,e=_(),
t.appendChild(e),n=document.getElementById("_a3_id_incoming_page_placeholder"),e.style.transition="all .36s ease",window._a3_reader_state_anima=!0;var r=setTimeout(function(){e.style.opacity="1",clearTimeout(r),r=setTimeout(function(){window._a3_reader_state_anima=!1,u(a),clearTimeout(r)},360)},0);g(t,"_a3_class_html_paper"),f(!0),o=0,s=""},v=function(){p(a),e.style.transition="all .28s ease",e.style.opacity="0",window._a3_reader_state_anima=!0,setTimeout(function(){window._a3_reader_state_anima=!1,t.removeChild(e),e=null,m(t,"_a3_class_html_paper"),f(!1)},260)},N=function(){var e=+new Date,t=function(t){+new Date-e<80||(e=+new Date,i.scrollTop+window.innerHeight+960>i.scrollHeight&&E.loadNextPage())};return function(e){e&&window.removeEventListener("scroll",t),window.addEventListener("scroll",t)}}(),T=function(){return l.length||(N(!0),u(n)),this};return{show:function(){return r||(b(),r=!0),this},hide:function(){return r&&(v(),r=!1),this},setTitle:function(){var e=!1;return function(t){return!e&&t&&(document.title=t,e=!0),this}}(),addNextPageUrl:function(e){l.push(e),o<0?this.loadNextPage():N()},loadNextPage:function(){var t=!1;return function(){if(t);else{clearTimeout(void 0);var a=l.shift();if(!a)return;t=!0,p(n);var r="_a3_id_next_page_preload",o=document.getElementById(r);o&&o.parentNode.removeChild(o),o=document.createElement("iframe"),o.id=r,o.sandbox="allow-scripts allow-same-origin allow-top-navigation-by-user-activation allow-popups",o.src=a,o.style.display="none",e.appendChild(o),o.onload=function(e){u(n),t=!1;var a=o.contentDocument;if(a&&y.check(a,!0)){if(i.scrollHeight>8e3){var r=document.getElementById("_a3_id_article"),l=r.querySelectorAll("div._a3_class_page");l.length>3&&r.removeChild(l[0])}E.addPage(y.getData()),o.parentNode.removeChild(o)}else T()}}}}(),addPage:function(e){if(!e||!e.article)return T();var t=document.getElementById("_a3_id_article");window._a3_reader_bg_color&&(t.style.backgroundColor=window._a3_reader_bg_color),window._a3_reader_fg_color&&(t.style.color=window._a3_reader_fg_color),this.setTitle(e.title);var a=d(o+1),i=e.title;if(i!=s){var r=document.createElement("h1");r.className="_a3_class_title",r.textContent=e.title,a.appendChild(r)}var l=e.byline;if(l){var _=document.createElement("div");_.className="_a3_class_byline",_.textContent=l,a.appendChild(_)}return 0===o?s=i:g(t,"_a3_class_show_pn"),a.insertAdjacentHTML("beforeend",e.article),e.nextPage?this.addNextPageUrl(e.nextPage):T(),e.rtl&&g(oPage,"rtl"),t.insertBefore(a,n),o++,this}}}(),v=function(){return y.check(document)?(a(!0,!1),!0):(a(!1,!1),!1)};window._a3_reader_dom_changed=!1;var N=function(){A3Message.on("A3Msg_Page_Show",function(e){return window._a3_reader_state_showed||window._a3_reader_state_anima?void t():(i(),y.check(document,window._a3_reader_dom_changed,!0)?(E.show(),A3InjectReaderCss(),E.addPage(y.getData()),a(!0,!0)):a(!1,!1),!0)}),A3Message.on("A3Msg_Page_Hide",function(){return!window._a3_reader_state_showed||window._a3_reader_state_anima?void t():(n(),E.hide(),a(window._a3_reader_supported,!1),!0)}),A3Message.on("A3Msg_Page_SetColor",function(e,t){if(window._a3_reader_state_showed||window._a3_reader_state_anima){var a=document.getElementById("_a3_id_article");a.style.backgroundColor=e,a.style.color=t}return window._a3_reader_bg_color=e,window._a3_reader_fg_color=t,!0})};!function(e){if("loading"==document.readyState){var t=function(){document.removeEventListener("DOMContentLoaded",t,!1),e(document.readyState)};document.addEventListener("DOMContentLoaded",t,!1)}else e(document.readyState)}(function(e){var t=s(document.domain),a=t?50:200;setTimeout(function(){var e=v();if(N(),e)if(t)A3OnMessage("A3Msg_Page_Show",!1);else{var a=new MutationObserver(function(){window._a3_reader_dom_changed=!0,a.disconnect(),a.takeRecords()});a.observe(document,{characterData:!0,subtree:!0,childList:!0})}},a)})}}(this);