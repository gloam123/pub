<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no" id="viewport">
<link rel="icon" type="image/svg+xml" href="./images/HTML5 Logo.svg">
<title>index</title>
<script>


  let do_raf = 0;
  let gcount = 0;
  function onframe() {
    gcount++;
    console.log("onframe gcount=" + gcount);
    if (do_raf) {
      window.requestAnimationFrame(onframe);
    }
  }

  function onStartRaf() {
    do_raf = 1;
    document.getElementById('status').innerHTML = "Starting raf...";
    window.requestAnimationFrame(onframe);
  }

  function onStopRaf() {
    do_raf = 0;
    document.getElementById('status').innerHTML = "Stoped raf";
  }

  function onLoad() {
    document.getElementById('idJsUa').innerHTML = navigator.userAgent;

    onStartRaf();
  }


</script>
</head>

<body onload="onLoad()">
<br />
<div id="idJsUa"></div>
<br /><br />
<div id="status"></div>

<br /><br />
<button onclick="onStartRaf()">startRaf</button>
<br /><br />
<button onclick="onStopRaf()">stopRaf</button>
<br /><br /><br /><br />
<button onclick="location.reload()">reload</button>
<br /><br />
</body>
</html>
