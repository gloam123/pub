(function(){var r="cn.udv.s.readMem",f="cn.udv.s.guessPage",p=10,q=8,g=5,m=q,v=0,u=[],t,z,d=null,y=false,o="guess",k=typeof k=="undefined"?"":k,c=typeof c=="undefined"?"":c,n={localStorage:(function(){var C=window,B="localStorage",A=function(){try{return((B in C)&&C[B])}catch(E){return false}},D={set:function(){},get:function(){return""}};if(A()&&C.JSON){D={set:function(E,G){G=JSON.stringify(G);try{localStorage.setItem(E,G)}catch(F){}},get:function(E){var F=localStorage.getItem(E);return JSON.parse(F)}}}return D})(),filterRepeated:function(E){var C=n.localStorage.get(r)||[],B=C.join("|");var D=[];var F=[];var A=function(H){var J,I="",L="",K=null,G=H.length;for(J=0;J<G;J++){K=H[J];K._url=trim(K.surl||"")||K.url;K._title=trim(K.stitle||"")||K.title.replace("- 手机新浪网","");if(!K||(K&&(!K._url||!K._title))){continue}I=K._url;L=K._title;if(B.indexOf(I)==-1){D.push(K);B+="|"+I}else{F.push(K)}}};A(E);if(D.length<q){D=D.concat(F.slice(0,q-D.length))}return D}};v=parseInt(n.localStorage.get(f))||0;function i(B){var C=function(J,H,I){var E=J.length,F=0,K,G,D=[];I=I||Infinity;H=H||E;for(G=0;G<I;G++){K=F+H;if(K>E){break}D.push(J.slice(F,K));F+=H}return D};var A=C(B,q,g);return A}function h(){var D,C,H=[],E=[],B=0,I=0,K=null,G=z.length,A,J="",F=o==="guess"?"title":"timeout";for(D=0;D<G;D++){H=z[D];B=H.length;if(B==q){E.push('<div class="news_items_module"><ul class="news_items morelistbox">');for(C=0;C<B;C++){K=H[C];A=K._url;if(A.indexOf("?")===-1){A+="?"}else{A+="&"}E.push('<li><a suda-uatrack="key=recmd_wap_news_view&value='+F+'" href="'+A+J+'">'+K._title+"</a></li>");u.push(K.url)}E.push("</ul></div>");I++}}z.length=I;if(v>=I){v=0}return E.join("")}function w(){var A=document.getElementById("j_interest_tpl");if(A.length==0){return}var J=A.children[0],I=document.getElementById("j_update_interest"),B=document.getElementById("j_like_loading"),F="on",E=h(),H=z.length,D=(function(){if(H>1){var O,P="",N="",M=[];for(O=0;O<H;O++){P=(O==v)?('class="'+F+'"'):"";M.push("<li "+P+"><i></i></li>")}N=M.join("");I.innerHTML=N}var Q=I.children;return{list:Q}})();if(H>1){I.style.display="block"}else{I.style.display="none"}J.removeChild(B);J.innerHTML=E;var L=J.querySelectorAll("a");var K=[];function G(M){return Math.floor((M+q)/q)-1}J.addEventListener("click",function(R){if(R.target.nodeName.toLocaleLowerCase()=="a"){var U=R.target,N=n.localStorage.get(r)||[],M=U.href.replace("&pos=108&cre=ckhome","");N.push(M);n.localStorage.set(r,N.slice(-p));var P=Array.prototype.indexOf.call(L,R.target),S=G(P),T=[];if(K.indexOf(S)===-1){K.push(S);for(var O=S*q,Q=(S+1)*q;O<Q;O++){if(P==O){continue}T.push(encodeURIComponent(u[O]))}}else{T.push(encodeURIComponent(u[P]))}SUDA.uaTrackLike("recmd_wap_news_view",T.join(","))}},false);var C=new Swiper(A,null,{circular:true,auto:false,callback:function(Q,O,R){v=O;var M=D.list;for(var P=0;P<M.length;P++){if(P==O){addClass(M[P],"on")}else{removeClass(M[P],"on")}}n.localStorage.set(f,v);if(window.suda){var N={type:"liketab",name:"tabchange",title:"猜你喜欢",index:v+1};window.suds_count&&window.suds_count(N)}}})}function x(){var A=n.filterRepeated(t.data);z=i(A);w()}function b(){var A="&length="+(q*(g+2))+"&_="+new Date().getTime(),B="http://cre.dp.sina.cn/api/v3/get?cateid=sina_all&fields=surl,stitle,url,title,type&dedup=8&pageid=http://sina.cn&lid=all&cre=sinaw&mod=g&statics=1&merge=3"+A+"&callback=likeDataHandle";createScript(B)}function l(){var A="&top_show_num="+(q*(g+2))+"&_="+new Date().getTime(),B="http://cre.dp.sina.cn/api/v3/get?cateid=sina_all&fields=surl,stitle,url,title,type&dedup=8&pageid=http://sina.cn&lid=all&cre=sinaw&mod=g&statics=1&merge=3"+A+"&callback=topListHandle";createScript(B)}function s(){var B=(new Date()).valueOf();var A="http://api.m.leju.com/?site=api&ctl=api&act=sl&timestamp="+B;createScript(A)}function j(E){var D=location.search.substr(1),F=D.split("&"),G="";for(var C=0,A=F.length;C<A;C++){var B=F[C].split("=");if(B[0]==E){G=B[1]}}return G}function a(){var G=new Date().getTime(),C=j("time"),F=j("df");if(C){C="&time="+C}if(F){F="&df="+F}var D=navigator.userAgent.toLowerCase(),E=D.indexOf("ucbrowser")+1?"uc":D.indexOf("baidu")+1?"bd":D.indexOf("qqbrowser")+1?"qq":"no";var A=/iphone|ipad|ipod/.test(D)?"ios":D.indexOf("android")+1?"android":"no";var B="http://s.api.sina.cn/ls/allasync?callback=localStationData&ua="+E+"&pf="+A+"&timestamp="+G+C+F;createScript(B)}function e(){var A="http://api.weibo.cn/hot/sinamobile?wm=ig_2002&callback=weiboDataHandle";createScript(A)}window.likeDataHandle=function(A){o="guess";if(A&&A.data&&A.data.length>0){y=true;t=A;x()}else{l()}};window.topListHandle=function(A){o="top";A=A.result;y=true;t=A;x()};window.localStationData=function(Y){if(Y.retData.weather.icon){var A=document.createElement("img"),E=document.getElementById("weather_icon");A.src=Y.retData.weather.icon;A.width=22;E.appendChild(A)}if(Y.retData.app_recommend&&(Y.retData.app_recommend.length===4||Y.retData.app_recommend.length===8)){var V=Y.retData.app_recommend,T=0,U=V.length,R="";for(;T<U;T++){if(V[T].title&&V[T].url&&V[T].pic){R+='<li><a href="'+V[T].url+'"><img src="'+V[T].pic+'" alt="'+V[T].title+'"/><i class="download_btn"></i><p class="app_title">'+V[T].title+"</p></a></li>"}}document.getElementById("app_down_cont").innerHTML=R}else{var B=document.getElementById("app_recommend");B.parentElement.removeChild(B)}if(Y.retData.finance){var R="",Q=document.querySelector("#card_finance .j_newsModule .news_items_module_wrap"),B=Q.children[0],N=document.createElement("div");if(Y.retData.finance.stocks.length!=0){var X=Y.retData.finance.stocks;N.className="news_finance_card";N.setAttribute("data-sudaclick","tab_31_stock");R+='<div class="news_finance_card_info fl"><p class="'+X[0]["class"]+'"><strong>'+X[0]["title"]+"</strong><span>"+X[0]["range"]+"%</span><span>"+X[0]["value"]+'</span></p></div><div class="news_finance_card_info fr"><p class="'+X[1]["class"]+'"><strong>'+X[1]["title"]+"</strong><span>"+X[1]["range"]+"%</span><span>"+X[1]["value"]+"</span></p></div>"}else{if(Y.retData.finance.tags.length!=0){var O=Y.retData.finance.tags;N.className="news_hot_card";for(var T=0,U=O.length;T<U;T++){R+='<a href="'+O[T]["url"]+'" title="'+O[T]["title"]+'">'+O[T]["title"]+"</a>"}}}N.innerHTML=R;B.insertBefore(N,B.children[0])}var K=document.getElementById("j_localStationWrap"),W=K.querySelector(".j_navTab"),D=K.querySelector(".j_newsModule").children[0];if(Y.retData&&Y.retData.localsite&&Y.retData.localsite.yaowen&&Y.retData.localsite.yaowen.list&&Y.retData.localsite.yaowen.list.top){var H=document.querySelector("#card_yaowen"),J=Y.retData.localsite.yaowen.list.top,G="",F=H.querySelector(".j_newsModule .news_items");for(var T=0,U=J.length;T<U;T++){G+='<li><a href="'+J[T][0].link+'" title="'+J[T][0].title+'">'+J[T][0].title+"</a></li>"}if(F){F.innerHTML+=G}}if(Y&&Y.retData&&Y.retData.localsite&&Y.retData.localsite.tab){var P=Y.retData.localsite.tab,M=[],C=[],L=false;removeClass(K,"hide");for(var T in P){if(!L){M.push('<li class="news_tab_nav on">'+P[T].title.title+"</li>");L=true}else{M.push('<li class="news_tab_nav">'+P[T].title.title+"</li>")}C.push('<div class="news_items_module"><ul class="news_items">');for(var S=0,I=P[T].list.top;S<I.length;S++){C.push('<li><a href="'+I[S][0].link+'" title="'+I[S][0].title+'">'+I[S][0].title+"</a></li>")}C.push('</ul><div class="news_more_tips"><a href="'+P[T].more.url+'" title="'+P[T].more.title+'"><span>进入'+P[T].more.title+'<em class="news_more_r iconf_icon_enter"></em></span></a></div></div>')}W.innerHTML=M.join("");D.innerHTML=C.join("");tabInit(W.children,D.children);tabNav()}};window.LejuDataCallback=function(G){var A=document.getElementById("j_lejuWrap"),J=A.querySelector(".j_navTab"),L=A.querySelector(".j_newsModule").children[0];if(G&&G.retCode&&G.retData.tab){var C=G.retData.tab,H=[],K=[],I=false;removeClass(A,"hide");for(var F in C){if((!C[F].pics||(C[F].pics&&C[F].pics.length!=0))&&(!C[F].links||(C[F].links&&C[F].links.length!=0))&&(!C[F].list||(C[F].list&&C[F].list.length!=0))){if(!I){H.push('<li class="news_tab_nav on">'+C[F].title.title+"</li>");I=true}else{H.push('<li class="news_tab_nav">'+C[F].title.title+"</li>")}K.push('<div class="news_items_module"><ul class="news_pic_items m_b">');for(var E=0,B=C[F].pics;E<2;E++){K.push('<li><a href="'+B[E].link+'" title="'+B[E].title+'"><img src="'+B[E].src+'" alt="'+B[E].title+'" class="news_pic_img" /><p class="news_pic_info">'+B[E].title+"</p></a></li>")}K.push('</ul><div class="news_hot_card leju">');var N=C[F].links,D=N.length>3?3:N.length;for(var E=0;E<D;E++){if(N[E].link&&N[E].title){K.push('<a href="'+N[E].link+'" title="'+N[E].title+'">'+N[E].title+"</a>")}}K.push('</div><ul class="news_items">');for(var E=0,M=C[F].list;E<M.length;E++){K.push('<li><a href="'+M[E].link+'" title="'+M[E].title+'">'+M[E].title+"</a></li>")}K.push('</ul><div class="news_more_tips"><a href="'+C[F].more.url+'" title="'+C[F].more.title+'"><span>'+C[F].more.title+'<em class="news_more_r iconf_icon_enter"></em></span></a></div></div>')}}J.innerHTML=H.join("");L.innerHTML=K.join("");tabInit(J.children,L.children);tabNav()}};window.weiboDataHandle=function(E){var D=document.getElementById("j_weiboWrap"),B=D.querySelector(".j_navTab"),A=D.querySelector(".j_newsModule").children[0],G=document.getElementById("j_weiboList");if(E&&E.status&&E.data.length>4){var C=E.data,F=[];F.push('<div class="wb_top_module_card"><a href="'+C[0].url+'" title="'+C[0].title+'"><aside class="wb_top_info h170 wb_num_1"><p><span>TOP 1</span>'+C[0].title+"</p></aside></a></div>");F.push('<div class="wb_top_module_card"><a href="'+C[1].url+'" title="'+C[1].title+'"><aside class="wb_top_info h80 m_b wb_num_2"><p><span>TOP 2</span>'+C[1].title+"</p></aside></a>");F.push('<a href="'+C[2].url+'" title="'+C[2].title+'"><aside class="wb_top_info h80 m_t wb_num_3"><p><span>TOP 3</span>'+C[2].title+"</p></aside></a></div>");F.push('<div class="wb_top_module_card"><a href="'+C[3].url+'" title="'+C[3].title+'"><aside class="wb_top_info h80 m_b"><p><span>TOP 4</span>'+C[3].title+"</p></aside></a>");F.push('<a href="'+C[4].url+'" title="'+C[4].title+'"><aside class="wb_top_info h80 m_t"><p><span>TOP 5</span>'+C[4].title+"</p></aside></a></div>");G.innerHTML=F.join("");tabInit(B.children,G.parentNode.parentNode.children);tabNav()}};b();s();e();a()})();