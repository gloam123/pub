(function(e,t){var n=e.globalConfig?e.globalConfig.startTime:false;var o=t.body;function a(e){var t=e.toString().length-e.toString().indexOf(".")-1;var n=Math.ceil(Math.random()*Math.pow(10,t));if(n<=e*Math.pow(10,t)){return 1}else{return 0}}function i(e,n,o){if(n===undefined){var a="; "+window.document.cookie;var i=a.split("; "+e+"=");if(i.length===2){return i.pop().split(";").shift()}return null}else{if(n===false){o=-1}var r;if(o){var l=new Date;l.setTime(l.getTime()+o*24*60*60*1e3);r="; expires="+l.toGMTString()}else{r=""}t.cookie=e+"="+n+r+"; path=/"}}var r={isCollect:a(.001),cookieName:"sina_collect_fe",global:{},timeout:5e3,api:"http://open.api.sina.cn/log/add?log_type=WAP_FRONT&log_msg=",log:function(e,n){if(this.isCollect&&!i(this.cookieName)){var a=this;var r=t.createElement("iframe");r.style.cssText="width:1px;height:1px;display:none;";r.onError=r.onerror=r.onload=function(){l(r,o);clearTimeout(s);i(a.cookieName,1,.5);if(n){n()}};var s=setTimeout(function(){l(r,o);r.onError=r.onerror=r.onload=null},this.timeout);r.src=this.api+encodeURIComponent(JSON.stringify(e));o.appendChild(r)}},add:function(e){for(var t in e){if(e.hasOwnProperty(t)){this.global[t]=e[t]}}}};e.collect=r;function l(e,t){t.removeChild(e)}function s(e){var t=e.offsetTop;if(e.offsetParent!==null){t+=s(e.offsetParent)}return t}if(!n||!r.isCollect){return}var f=e.screen.height;var c=[];var d=false;var u=false;var h=setInterval(function(){var e,t;if(d){if(c.length){for(e=0;e<c.length;e++){t=c[e];if(!t.complete){u=false;break}else{u=true}}}else{u=true}if(u){r.add({firstScreenLoaded:Date.now()-n});clearInterval(h)}}else{var a=o.getElementsByTagName("img");for(e=0;e<a.length;e++){t=a[e];var i=s(t);if(i>f){d=true;break}else if(i<=f&&!t.hasPushed){t.hasPushed=1;c.push(t)}}}},0);t.addEventListener("DOMContentLoaded",function(){var e=o.getElementsByTagName("img");if(!e.length){d=true}r.add({docReady:Date.now()-n})});e.addEventListener("load",function(){u=true;d=true;r.add({resolution:[e.screen.width,e.screen.height],ua:e.navigator.userAgent,from:e.location.href,winOnload:Date.now()-n});if(h){clearInterval(h)}r.log(r.global)})})(window,document);